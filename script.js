const items=[{name:"Gula",price:1e4},{name:"Telur",price:2e4},{name:"Beras",price:15e3},{name:"Minyak Goreng",price:12e3},{name:"Susu",price:8e3},],itemsList=document.getElementById("items"),cartList=document.getElementById("cart"),totalSpan=document.getElementById("total"),cart=[];function formatRupiah(a){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(a)}function addToCart(a){let t=cart.find(t=>t.name===a.name);t?(t.quantity++,updateCartUI()):(cart.push({...a,quantity:1}),updateCartUI())}function removeFromCart(a){let t=cart.findIndex(t=>t.name===a);-1!==t&&(cart.splice(t,1),updateCartUI())}function updateCartUI(){cartList.innerHTML="",cart.forEach(a=>{let t=document.createElement("li");t.innerHTML=`${a.name} x${a.quantity} - ${formatRupiah(a.price*a.quantity)} <span class="remove-icon" onclick="removeFromCart('${a.name}')">❌</span>`,cartList.appendChild(t)}),updateTotal()}function updateTotal(){let a=cart.reduce((a,t)=>a+t.price*t.quantity,0);totalSpan.innerText=formatRupiah(a)}function updateTotal(){let a=cart.reduce((a,t)=>a+t.price*t.quantity,0);totalSpan.innerText=formatRupiah(a)}function calculateChange(){if(0===cart.length){alert("Keranjang belanja masih kosong. Tambahkan barang terlebih dahulu.");return}let a=cart.reduce((a,t)=>a+t.price*t.quantity,0),t=parseFloat(prompt("Masukkan jumlah uang yang dibayarkan:"));if(isNaN(t)){alert("Jumlah uang yang dimasukkan tidak valid.");return}let e=t-a;e>=0?(alert(`Kembalian: ${formatRupiah(e)}`),cart.length=0,updateCartUI()):alert("Jumlah uang yang dibayarkan kurang.")}items.forEach(a=>{let t=document.createElement("li");t.innerHTML=`${a.name} - ${formatRupiah(a.price)}`,t.onclick=()=>addToCart(a),itemsList.appendChild(t)});